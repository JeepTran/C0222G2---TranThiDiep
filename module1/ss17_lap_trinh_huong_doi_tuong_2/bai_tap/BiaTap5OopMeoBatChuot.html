<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>[Bài Tập] OOP - Mèo bắt chuột</title>
</head>
<body>
<script>
    class Animal {
        constructor(name, weight, speed) {
            this.name = name;
            this.weight = weight;
            this.speed = speed;
        }

        say(text) {
            console.log("kêu: " + text);
        }
    }

    class Rat extends Animal {
        constructor(name, weight, speed, status) {
            super(name, weight, speed);
            this.status = status;
        }

        say(text) {
            console.log("Chít chít: " + text);
        }
    }

    class Cat extends Animal {
        constructor(name, weight, speed) {
            super(name, weight, speed);
        }

        say(text) {
            console.log("Meo meo: " + text);
        }

        catchRat(rat) {
            if (this.speed > rat.speed) {
                this.say("Bắt được rồi nhé!");
                this.eatRat(rat);
            } else {
                rat.say("Lêu lêu, đố bắt được!");
            }
        }

        eatRat(rat) {
            if (rat.status === "alive") {
                this.weight += rat.weight;
            } else {
                this.say("Chuột chết rồi, không ăn!");
            }
        }
    }

    let jerry1 = new Rat("Jerry1", 2, 10, "alive");
    let jerry2 = new Rat("Jerry2", 2, 0, "dead");
    let jerry3 = new Rat("Jerry3", 2, 12, "alive");
    let jerry4 = new Rat("Jerry4", 2, 15, "alive");

    let jerry = [jerry1, jerry2, jerry3, jerry4];
    let tom = new Cat("Tom", 10, 12);
    for (let i = 0; i < jerry.length; i++) {
        tom.catchRat(jerry[i]);
    }
    console.log(tom.weight);


</script>
</body>
</html>